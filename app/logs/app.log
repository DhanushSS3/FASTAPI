2025-05-28 10:33:19,440 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-05-28 10:33:19,440 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-05-28 10:33:20,404 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-05-28 10:33:20,757 - INFO - app - Application startup initiated.
2025-05-28 10:33:20,849 - INFO - app - Firebase Admin SDK initialized.
2025-05-28 10:33:20,849 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-05-28 10:33:20,849 - INFO - app.core.security - Attempting to connect to Redis...
2025-05-28 10:33:20,849 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-05-28 10:33:20,886 - INFO - app.core.security - Connected to Redis successfully.
2025-05-28 10:33:20,887 - INFO - app - Redis client initialized.
2025-05-28 10:33:20,921 - INFO - app.database.session - Running Base.metadata.create_all...
2025-05-28 10:33:21,000 - INFO - app.database.session - Base.metadata.create_all finished.
2025-05-28 10:33:21,003 - INFO - app - Database tables created.
2025-05-28 10:33:21,018 - INFO - app - Scheduler started.
2025-05-28 10:33:22,084 - INFO - app - Service account JWT rotated and pushed to Firebase.
2025-05-28 10:34:41,507 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-05-28 10:34:41,507 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-05-28 10:34:41,732 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-05-28 10:34:41,994 - INFO - app - Application startup initiated.
2025-05-28 10:34:42,046 - INFO - app - Firebase Admin SDK initialized.
2025-05-28 10:34:42,047 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-05-28 10:34:42,047 - INFO - app.core.security - Attempting to connect to Redis...
2025-05-28 10:34:42,047 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-05-28 10:34:42,049 - INFO - app.core.security - Connected to Redis successfully.
2025-05-28 10:34:42,050 - INFO - app - Redis client initialized.
2025-05-28 10:34:42,102 - INFO - app.database.session - Running Base.metadata.create_all...
2025-05-28 10:34:42,138 - INFO - app.database.session - Base.metadata.create_all finished.
2025-05-28 10:34:42,142 - INFO - app - Database tables created.
2025-05-28 10:34:42,152 - INFO - app - Scheduler started.
2025-05-28 10:34:42,978 - INFO - app - Service account JWT rotated and pushed to Firebase.
2025-05-28 10:34:42,978 - INFO - app - Firebase stream processing task started.
2025-05-28 10:34:42,978 - INFO - app - Redis publisher task started.
2025-05-28 10:34:42,978 - INFO - app - Redis broadcaster task started.
2025-05-28 10:34:42,978 - INFO - app - Application startup complete.
2025-05-28 10:34:42,979 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-05-28 10:34:42,979 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-05-28 10:34:43,610 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-05-28 10:34:43,611 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-05-28 10:34:43,611 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task started. Subscribing to channel 'market_data_updates'.
2025-05-28 10:34:43,618 - INFO - app.api.v1.endpoints.market_data_ws - Successfully subscribed to Redis channel 'market_data_updates'.
2025-05-28 10:34:46,957 - INFO - app - Application shutdown initiated.
2025-05-28 10:34:46,957 - INFO - app - Scheduler shut down.
2025-05-28 10:34:46,958 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task cancelled.
2025-05-28 10:34:46,958 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task finished.
2025-05-28 10:34:46,959 - INFO - app.api.v1.endpoints.market_data_ws - Successfully unsubscribed from Redis channel 'market_data_updates'.
2025-05-28 10:34:46,959 - INFO - app.api.v1.endpoints.market_data_ws - Redis pubsub connection closed.
2025-05-28 10:34:46,959 - INFO - app - Cancelled task: redis_market_data_broadcaster
2025-05-28 10:34:46,960 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-05-28 10:34:47,589 - INFO - app.firebase_stream - Firebase listener closed.
2025-05-28 10:34:47,590 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-05-28 10:34:47,630 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task cancelled.
2025-05-28 10:34:47,630 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task finished.
2025-05-28 10:35:05,872 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-05-28 10:35:05,872 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-05-28 10:35:06,066 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-05-28 10:35:06,309 - INFO - app - Application startup initiated.
2025-05-28 10:35:06,375 - INFO - app - Firebase Admin SDK initialized.
2025-05-28 10:35:06,375 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-05-28 10:35:06,376 - INFO - app.core.security - Attempting to connect to Redis...
2025-05-28 10:35:06,376 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-05-28 10:35:06,379 - INFO - app.core.security - Connected to Redis successfully.
2025-05-28 10:35:06,380 - INFO - app - Redis client initialized.
2025-05-28 10:35:06,397 - INFO - app.database.session - Running Base.metadata.create_all...
2025-05-28 10:35:06,463 - INFO - app.database.session - Base.metadata.create_all finished.
2025-05-28 10:35:06,468 - INFO - app - Database tables created.
2025-05-28 10:35:06,478 - INFO - app - Scheduler started.
2025-05-28 10:35:07,656 - INFO - app - Service account JWT rotated and pushed to Firebase.
2025-05-28 10:35:07,657 - INFO - app - Firebase stream processing task started.
2025-05-28 10:35:07,657 - INFO - app - Redis publisher task started.
2025-05-28 10:35:07,657 - INFO - app - Redis broadcaster task started.
2025-05-28 10:35:07,657 - INFO - app - Application startup complete.
2025-05-28 10:35:07,657 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-05-28 10:35:07,658 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-05-28 10:35:08,275 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-05-28 10:35:08,282 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-05-28 10:35:08,298 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task started. Subscribing to channel 'market_data_updates'.
2025-05-28 10:35:08,305 - INFO - app.api.v1.endpoints.market_data_ws - Successfully subscribed to Redis channel 'market_data_updates'.
2025-05-28 10:40:51,734 - INFO - app - Application shutdown initiated.
2025-05-28 10:40:51,734 - INFO - app - Scheduler shut down.
2025-05-28 10:40:51,735 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-05-28 10:40:51,850 - INFO - app.firebase_stream - Firebase listener closed.
2025-05-28 10:40:51,850 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-05-28 10:40:51,857 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task cancelled.
2025-05-28 10:40:51,858 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task finished.
2025-05-28 10:40:51,858 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task cancelled.
2025-05-28 10:40:51,858 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task finished.
2025-05-28 10:40:51,858 - INFO - app.api.v1.endpoints.market_data_ws - Successfully unsubscribed from Redis channel 'market_data_updates'.
2025-05-28 10:40:51,860 - INFO - app.api.v1.endpoints.market_data_ws - Redis pubsub connection closed.
2025-05-28 10:40:53,315 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-05-28 10:40:53,315 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-05-28 10:40:53,406 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-05-28 10:40:53,539 - INFO - app - Application startup initiated.
2025-05-28 10:40:53,579 - INFO - app - Firebase Admin SDK initialized.
2025-05-28 10:40:53,579 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-05-28 10:40:53,579 - INFO - app.core.security - Attempting to connect to Redis...
2025-05-28 10:40:53,579 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-05-28 10:40:53,582 - INFO - app.core.security - Connected to Redis successfully.
2025-05-28 10:40:53,582 - INFO - app - Redis client initialized.
2025-05-28 10:40:53,590 - INFO - app.database.session - Running Base.metadata.create_all...
2025-05-28 10:40:53,609 - INFO - app.database.session - Base.metadata.create_all finished.
2025-05-28 10:40:53,610 - INFO - app - Database tables created.
2025-05-28 10:40:53,614 - INFO - app - Scheduler started.
2025-05-28 10:40:54,395 - INFO - app - Service account JWT rotated and pushed to Firebase.
2025-05-28 10:40:54,395 - INFO - app - Firebase stream processing task started.
2025-05-28 10:40:54,395 - INFO - app - Redis publisher task started.
2025-05-28 10:40:54,395 - INFO - app - Redis broadcaster task started.
2025-05-28 10:40:54,395 - INFO - app - Application startup complete.
2025-05-28 10:40:54,918 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-05-28 10:40:54,935 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task started. Subscribing to channel 'market_data_updates'.
2025-05-28 10:40:54,936 - INFO - app.api.v1.endpoints.market_data_ws - Successfully subscribed to Redis channel 'market_data_updates'.
2025-05-28 10:43:25,566 - INFO - app - Application shutdown initiated.
2025-05-28 10:43:25,566 - INFO - app - Scheduler shut down.
2025-05-28 10:43:25,567 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task cancelled.
2025-05-28 10:43:25,567 - INFO - app.api.v1.endpoints.market_data_ws - Redis market data broadcaster task finished.
2025-05-28 10:43:25,567 - INFO - app.api.v1.endpoints.market_data_ws - Successfully unsubscribed from Redis channel 'market_data_updates'.
2025-05-28 10:43:25,568 - INFO - app.api.v1.endpoints.market_data_ws - Redis pubsub connection closed.
2025-05-28 10:43:25,569 - INFO - app - Cancelled task: redis_market_data_broadcaster
2025-05-28 10:43:25,573 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task cancelled.
2025-05-28 10:43:25,573 - INFO - app.api.v1.endpoints.market_data_ws - Redis publisher task finished.
